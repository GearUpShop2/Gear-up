{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Orange\\\\Desktop\\\\Gear-Up\\\\Client\\\\src\\\\componete\\\\CheckoutForm.jsx\",\n  _s = $RefreshSig$();\n// import {\n//   ElementsConsumer,\n//   CardElement,\n//   useStripe,\n//   useElements,} from \"@stripe/react-stripe-js\";\n// import React from \"react\";\n// import CardSection from \"./CardSection\";\n// import axios from \"axios\";\n// import Swal from \"sweetalert2\";\n// import { useCart } from \"../context/CartContext\";\n// // import { useCart } from '../context/CartContext';\n// function CheckoutForm({ stripe, elements }) {\n//   // const { total } = useCart();\n//   const { total } = useCart();\n\n//   //   const elements = useElements();\n//   const handleSubmit = async (event) => {\n//     event.preventDefault();\n\n//     if (!stripe || !elements) {\n//       return;\n//     }\n\n//     const { error, paymentMethod } = await stripe.createPaymentMethod({\n//       type: \"card\",\n//       card: elements.getElement(CardElement),\n//     });\n\n//     if (error) {\n//       console.log(error.message);\n//       // Handle error appropriately\n//     } else {\n//       // Continue with the rest of your code\n\n//       // Handle amount\n//       if (paymentMethod) {\n//         const { id } = paymentMethod;\n\n//         // Rest of your code\n//         const response = await axios.post(\"http://localhost:5002/payment\", {\n//           amount: 200,\n//           id,\n//         });\n//         if (response.data.success) {\n//           console.log(response.data);\n//           try {\n//             Swal.fire({\n//               title: \"Payment\",\n//               text: \"Payment successfull\",\n//               icon: \"success\",\n//               confirmButtonText: \"Got it!\",\n//             });\n//             console.log(\"Payment successful\");\n//             // Handle success appropriately\n//           } catch (error) {\n//             console.log(error);\n//             // Handle error appropriately\n//           }\n//         } else {\n//           console.log(\"Payment failed\");\n//           // Handle failure appropriately\n//         }\n//       } else {\n//         console.log(\"Payment method is undefined\");\n//         // Handle undefined paymentMethod\n//       }\n//     }\n//   };\n//   return (\n\n//       <>\n//   {/* component */}\n//   <div className=\"leading-loose\">\n//     <form onSubmit={handleSubmit} className=\"max-w-xl m-4 p-10 bg-blue-400 rounded shadow-xl\">\n//       <p className=\"text-gray-800 font-medium\">Customer information</p>\n//       <div className=\"\">\n//         <label className=\"block text-sm text-gray-00\" htmlFor=\"cus_name\">\n//           Name\n//         </label>\n//         <input\n//           className=\"w-full px-5 py-1 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_name\"\n//           name=\"cus_name\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"Your Name\"\n//           aria-label=\"Name\"\n//         />\n//       </div>\n//       <div className=\"mt-2\">\n//         <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_email\">\n//           Email\n//         </label>\n//         <input\n//           className=\"w-full px-5  py-4 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_email\"\n//           name=\"cus_email\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"Your Email\"\n//           aria-label=\"Email\"\n//         />\n//       </div>\n//       <div className=\"mt-2\">\n//         <label className=\" block text-sm text-gray-600\" htmlFor=\"cus_email\">\n//           Address\n//         </label>\n//         <input\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_email\"\n//           name=\"cus_email\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"Street\"\n//           aria-label=\"Email\"\n//         />\n//       </div>\n//       <div className=\"mt-2\">\n//         <label\n//           className=\"hidden text-sm block text-gray-600\"\n//           htmlFor=\"cus_email\"\n//         >\n//           City\n//         </label>\n//         <input\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_email\"\n//           name=\"cus_email\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"City\"\n//           aria-label=\"Email\"\n//         />\n//       </div>\n//       <div className=\"inline-block mt-2 w-1/2 pr-1\">\n//         <label\n//           className=\"hidden block text-sm text-gray-600\"\n//           htmlFor=\"cus_email\"\n//         >\n//           Country\n//         </label>\n//         <input\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_email\"\n//           name=\"cus_email\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"Country\"\n//           aria-label=\"Email\"\n//         />\n//       </div>\n//       <div className=\"inline-block mt-2 -mx-1 pl-1 w-1/2\">\n//         <label\n//           className=\"hidden block text-sm text-gray-600\"\n//           htmlFor=\"cus_email\"\n//         >\n//           Zip\n//         </label>\n//         <input\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n//           id=\"cus_email\"\n//           name=\"cus_email\"\n//           type=\"text\"\n//           required=\"\"\n//           placeholder=\"Zip\"\n//           aria-label=\"Email\"\n//         />\n//       </div>\n//       <p className=\"mt-4 text-gray-800 font-medium\">Payment information</p>\n//       <div className=\"\">\n//         <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_name\">\n//           Card\n//         </label>\n//         <CardSection />\n//       </div>\n//       <h2>{total}$</h2>\n\n//       <div className=\"mt-4\">\n//         <button\n//           className=\"px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded\"\n//           type=\"submit\"\n//         >\n//         Pay now\n//         </button>\n//       </div>\n//     </form>\n//   </div>\n// </>\n//   );\n//   //   }\n// }\n// export default CheckoutForm;\n\nimport React, { useState } from \"react\";\nimport { ElementsConsumer, CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { useCart } from \"../context/CartContext\";\nimport CardSection from \"./CardSection\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CheckoutForm({\n  stripe,\n  elements\n}) {\n  _s();\n  const {\n    total\n  } = useCart();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    address: \"\",\n    city: \"\",\n    country: \"\",\n    zip: \"\"\n  });\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!stripe || !elements) {\n      return;\n    }\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: \"card\",\n      card: elements.getElement(CardElement)\n    });\n    if (error) {\n      console.log(error.message);\n      return;\n    }\n    if (paymentMethod) {\n      const {\n        id\n      } = paymentMethod;\n      const paymentResponse = await axios.post(\"http://localhost:/payment\", {\n        amount: 200,\n        id\n      });\n      if (paymentResponse.data.success) {\n        const userResponse = await axios.post(\"\", formData);\n        if (userResponse.data.success) {\n          console.log(\"User data stored successfully:\", userResponse.data);\n        } else {\n          console.log(\"Failed to store user data\");\n        }\n        Swal.fire({\n          title: \"Payment\",\n          text: \"Payment and user data stored successfully\",\n          icon: \"success\",\n          confirmButtonText: \"Got it!\"\n        });\n      } else {\n        console.log(\"Payment failed\");\n      }\n    } else {\n      console.log(\"Payment method is undefined\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"leading-loose\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"max-w-xl m-4 p-10 bg-blue-400 rounded shadow-xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-800 font-medium\",\n        children: \"Customer information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-00\",\n          htmlFor: \"cus_name\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-5 py-1 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_name\",\n          name: \"name\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"Your Name\",\n          \"aria-label\": \"Name\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-5  py-4 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_email\",\n          name: \"email\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"Your Email\",\n          \"aria-label\": \"Email\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_address\",\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_address\",\n          name: \"address\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"Street\",\n          \"aria-label\": \"Address\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_city\",\n          children: \"City\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_city\",\n          name: \"city\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"City\",\n          \"aria-label\": \"City\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block mt-2 w-1/2 pr-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_country\",\n          children: \"Country\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_country\",\n          name: \"country\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"Country\",\n          \"aria-label\": \"Country\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inline-block mt-2 -mx-1 pl-1 w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_zip\",\n          children: \"Zip\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",\n          id: \"cus_zip\",\n          name: \"zip\",\n          type: \"text\",\n          required: \"\",\n          placeholder: \"Zip\",\n          \"aria-label\": \"Zip\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-gray-800 font-medium\",\n        children: \"Payment information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm text-gray-600\",\n          htmlFor: \"cus_card\",\n          children: \"Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardSection, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [total, \"$\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded\",\n          type: \"submit\",\n          children: \"Pay now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 5\n  }, this);\n}\n_s(CheckoutForm, \"MLluRtXIDO/Wf+r+TUHfZRyjXXM=\", false, function () {\n  return [useCart];\n});\n_c = CheckoutForm;\nexport default CheckoutForm;\nvar _c;\n$RefreshReg$(_c, \"CheckoutForm\");","map":{"version":3,"names":["React","useState","ElementsConsumer","CardElement","useStripe","useElements","axios","Swal","useCart","CardSection","jsxDEV","_jsxDEV","CheckoutForm","stripe","elements","_s","total","formData","setFormData","name","email","address","city","country","zip","handleInputChange","e","value","target","handleSubmit","event","preventDefault","error","paymentMethod","createPaymentMethod","type","card","getElement","console","log","message","id","paymentResponse","post","amount","data","success","userResponse","fire","title","text","icon","confirmButtonText","className","children","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","required","placeholder","onChange","_c","$RefreshReg$"],"sources":["C:/Users/Orange/Desktop/Gear-Up/Client/src/componete/CheckoutForm.jsx"],"sourcesContent":["// import {\r\n//   ElementsConsumer,\r\n//   CardElement,\r\n//   useStripe,\r\n//   useElements,} from \"@stripe/react-stripe-js\";\r\n// import React from \"react\";\r\n// import CardSection from \"./CardSection\";\r\n// import axios from \"axios\";\r\n// import Swal from \"sweetalert2\";\r\n// import { useCart } from \"../context/CartContext\";\r\n// // import { useCart } from '../context/CartContext';\r\n// function CheckoutForm({ stripe, elements }) {\r\n//   // const { total } = useCart();\r\n//   const { total } = useCart();\r\n\r\n//   //   const elements = useElements();\r\n//   const handleSubmit = async (event) => {\r\n//     event.preventDefault();\r\n\r\n//     if (!stripe || !elements) {\r\n//       return;\r\n//     }\r\n\r\n//     const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n//       type: \"card\",\r\n//       card: elements.getElement(CardElement),\r\n//     });\r\n\r\n//     if (error) {\r\n//       console.log(error.message);\r\n//       // Handle error appropriately\r\n//     } else {\r\n//       // Continue with the rest of your code\r\n\r\n//       // Handle amount\r\n//       if (paymentMethod) {\r\n//         const { id } = paymentMethod;\r\n\r\n//         // Rest of your code\r\n//         const response = await axios.post(\"http://localhost:5002/payment\", {\r\n//           amount: 200,\r\n//           id,\r\n//         });\r\n//         if (response.data.success) {\r\n//           console.log(response.data);\r\n//           try {\r\n//             Swal.fire({\r\n//               title: \"Payment\",\r\n//               text: \"Payment successfull\",\r\n//               icon: \"success\",\r\n//               confirmButtonText: \"Got it!\",\r\n//             });\r\n//             console.log(\"Payment successful\");\r\n//             // Handle success appropriately\r\n//           } catch (error) {\r\n//             console.log(error);\r\n//             // Handle error appropriately\r\n//           }\r\n//         } else {\r\n//           console.log(\"Payment failed\");\r\n//           // Handle failure appropriately\r\n//         }\r\n//       } else {\r\n//         console.log(\"Payment method is undefined\");\r\n//         // Handle undefined paymentMethod\r\n//       }\r\n//     }\r\n//   };\r\n//   return (\r\n   \r\n//       <>\r\n//   {/* component */}\r\n//   <div className=\"leading-loose\">\r\n//     <form onSubmit={handleSubmit} className=\"max-w-xl m-4 p-10 bg-blue-400 rounded shadow-xl\">\r\n//       <p className=\"text-gray-800 font-medium\">Customer information</p>\r\n//       <div className=\"\">\r\n//         <label className=\"block text-sm text-gray-00\" htmlFor=\"cus_name\">\r\n//           Name\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-5 py-1 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_name\"\r\n//           name=\"cus_name\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"Your Name\"\r\n//           aria-label=\"Name\"\r\n//         />\r\n//       </div>\r\n//       <div className=\"mt-2\">\r\n//         <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_email\">\r\n//           Email\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-5  py-4 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_email\"\r\n//           name=\"cus_email\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"Your Email\"\r\n//           aria-label=\"Email\"\r\n//         />\r\n//       </div>\r\n//       <div className=\"mt-2\">\r\n//         <label className=\" block text-sm text-gray-600\" htmlFor=\"cus_email\">\r\n//           Address\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_email\"\r\n//           name=\"cus_email\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"Street\"\r\n//           aria-label=\"Email\"\r\n//         />\r\n//       </div>\r\n//       <div className=\"mt-2\">\r\n//         <label\r\n//           className=\"hidden text-sm block text-gray-600\"\r\n//           htmlFor=\"cus_email\"\r\n//         >\r\n//           City\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_email\"\r\n//           name=\"cus_email\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"City\"\r\n//           aria-label=\"Email\"\r\n//         />\r\n//       </div>\r\n//       <div className=\"inline-block mt-2 w-1/2 pr-1\">\r\n//         <label\r\n//           className=\"hidden block text-sm text-gray-600\"\r\n//           htmlFor=\"cus_email\"\r\n//         >\r\n//           Country\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_email\"\r\n//           name=\"cus_email\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"Country\"\r\n//           aria-label=\"Email\"\r\n//         />\r\n//       </div>\r\n//       <div className=\"inline-block mt-2 -mx-1 pl-1 w-1/2\">\r\n//         <label\r\n//           className=\"hidden block text-sm text-gray-600\"\r\n//           htmlFor=\"cus_email\"\r\n//         >\r\n//           Zip\r\n//         </label>\r\n//         <input\r\n//           className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n//           id=\"cus_email\"\r\n//           name=\"cus_email\"\r\n//           type=\"text\"\r\n//           required=\"\"\r\n//           placeholder=\"Zip\"\r\n//           aria-label=\"Email\"\r\n//         />\r\n//       </div>\r\n//       <p className=\"mt-4 text-gray-800 font-medium\">Payment information</p>\r\n//       <div className=\"\">\r\n//         <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_name\">\r\n//           Card\r\n//         </label>\r\n//         <CardSection />\r\n//       </div>\r\n//       <h2>{total}$</h2>\r\n      \r\n//       <div className=\"mt-4\">\r\n//         <button\r\n//           className=\"px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded\"\r\n//           type=\"submit\"\r\n//         >\r\n//         Pay now\r\n//         </button>\r\n//       </div>\r\n//     </form>\r\n//   </div>\r\n// </>\r\n//   );\r\n//   //   }\r\n// }\r\n// export default CheckoutForm;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  ElementsConsumer,\r\n  CardElement,\r\n  useStripe,\r\n  useElements,\r\n} from \"@stripe/react-stripe-js\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useCart } from \"../context/CartContext\";\r\nimport CardSection from \"./CardSection\";\r\n\r\nfunction CheckoutForm({ stripe, elements }) {\r\n  const { total } = useCart();\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    address: \"\",\r\n    city: \"\",\r\n    country: \"\",\r\n    zip: \"\",\r\n  });\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!stripe || !elements) {\r\n      return;\r\n    }\r\n\r\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\r\n      type: \"card\",\r\n      card: elements.getElement(CardElement),\r\n    });\r\n\r\n    if (error) {\r\n      console.log(error.message);\r\n      return;\r\n    }\r\n\r\n    if (paymentMethod) {\r\n      const { id } = paymentMethod;\r\n\r\n      const paymentResponse = await axios.post(\"http://localhost:/payment\", {\r\n        amount: 200,\r\n        id,\r\n      });\r\n\r\n      if (paymentResponse.data.success) {\r\n        const userResponse = await axios.post(\"\", formData);\r\n\r\n        if (userResponse.data.success) {\r\n          console.log(\"User data stored successfully:\", userResponse.data);\r\n        } else {\r\n          console.log(\"Failed to store user data\");\r\n        }\r\n\r\n        Swal.fire({\r\n          title: \"Payment\",\r\n          text: \"Payment and user data stored successfully\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"Got it!\",\r\n        });\r\n      } else {\r\n        console.log(\"Payment failed\");\r\n      }\r\n    } else {\r\n      console.log(\"Payment method is undefined\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"leading-loose\">\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className=\"max-w-xl m-4 p-10 bg-blue-400 rounded shadow-xl\"\r\n      >\r\n        <p className=\"text-gray-800 font-medium\">Customer information</p>\r\n        <div className=\"\">\r\n          <label className=\"block text-sm text-gray-00\" htmlFor=\"cus_name\">\r\n            Name\r\n          </label>\r\n          <input\r\n            className=\"w-full px-5 py-1 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_name\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"Your Name\"\r\n            aria-label=\"Name\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"mt-2\">\r\n          <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_email\">\r\n            Email\r\n          </label>\r\n          <input\r\n            className=\"w-full px-5  py-4 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_email\"\r\n            name=\"email\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"Your Email\"\r\n            aria-label=\"Email\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"mt-2\">\r\n          <label\r\n            className=\"block text-sm text-gray-600\"\r\n            htmlFor=\"cus_address\"\r\n          >\r\n            Address\r\n          </label>\r\n          <input\r\n            className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_address\"\r\n            name=\"address\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"Street\"\r\n            aria-label=\"Address\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"mt-2\">\r\n          <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_city\">\r\n            City\r\n          </label>\r\n          <input\r\n            className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_city\"\r\n            name=\"city\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"City\"\r\n            aria-label=\"City\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"inline-block mt-2 w-1/2 pr-1\">\r\n          <label\r\n            className=\"block text-sm text-gray-600\"\r\n            htmlFor=\"cus_country\"\r\n          >\r\n            Country\r\n          </label>\r\n          <input\r\n            className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_country\"\r\n            name=\"country\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"Country\"\r\n            aria-label=\"Country\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <div className=\"inline-block mt-2 -mx-1 pl-1 w-1/2\">\r\n          <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_zip\">\r\n            Zip\r\n          </label>\r\n          <input\r\n            className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\r\n            id=\"cus_zip\"\r\n            name=\"zip\"\r\n            type=\"text\"\r\n            required=\"\"\r\n            placeholder=\"Zip\"\r\n            aria-label=\"Zip\"\r\n            onChange={handleInputChange}\r\n          />\r\n        </div>\r\n        <p className=\"mt-4 text-gray-800 font-medium\">Payment information</p>\r\n        <div className=\"\">\r\n          <label className=\"block text-sm text-gray-600\" htmlFor=\"cus_card\">\r\n            Card\r\n          </label>\r\n          <CardSection />\r\n        </div>\r\n        <h2>{total}$</h2>\r\n\r\n        <div className=\"mt-4\">\r\n          <button\r\n            className=\"px-4 py-1 text-white font-light tracking-wider bg-gray-900 rounded\"\r\n            type=\"submit\"\r\n          >\r\n            Pay now\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutForm;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAQA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SACEC,gBAAgB,EAChBC,WAAW,EACXC,SAAS,EACTC,WAAW,QACN,yBAAyB;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAOC,WAAW,MAAM,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,SAASC,YAAYA,CAAC;EAAEC,M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"},"metadata":{},"sourceType":"module","externalDependencies":[]}